<h1 id="setup">Setup</h1>

<p>This tutorial covers the basic setup of Pyuavcan.</p>

<p>Pyuavcan is designed to be as platform-independent as possible.
It has been successfully tested under Linux, Windows, and OSX,
but its portability should not be restricted only to these platforms.</p>

<h2 id="installation">Installation</h2>

<p>It is recommended to use PIP to install Pyuavcan:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>pip install uavcan
</code></pre>
</div>

<p>If your operating system has both Python 2.7 and Python 3,
you probably should use <code class="highlighter-rouge">pip3</code> instead of <code class="highlighter-rouge">pip</code> in the example above.
Sometimes the PIP executable is not available at all,
in which case you should resort to the below command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>python -m pip install uavcan
</code></pre>
</div>

<p>Pyuavcan requires no external dependencies, except for PySerial if SLCAN support is required (more on this below).</p>

<h2 id="can-hardware-backends">CAN hardware backends</h2>

<p>Supported hardware backends are documented in this section.</p>

<h3 id="slcan-aka-lawicel">SLCAN (aka LAWICEL)</h3>

<p>This backend is available under all supported operating systems.
In order to use it, you should also install PySerial:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>pip install pyserial
</code></pre>
</div>

<p>SLCAN is a simple quasi-standard protocol that allows to transfer CAN frames and
CAN adapter commands and status information via a serial port link
(most often itâ€™s USB CDC ACM virtual serial port).
Many different vendors manufacture SLCAN-compatible CAN adapters.
Pyuavcan has been successfully tested at least with the following models:</p>

<ul>
  <li><a href="https://zubax.com/products/babel">Zubax Babel</a></li>
  <li>Thiemar muCAN</li>
  <li>VSCOM USB-CAN</li>
</ul>

<p>Since SLCAN works over a serial port link, USB SLCAN adapters will be detected on the host
<abbr title="Operating System">OS</abbr> as a virtual serial port device.
Depending on your OS, serial ports can be accessed as follows:</p>

<ul>
  <li>On Linux, all devices are represented as files; serial ports can be referred to using the following files:
    <ul>
      <li><code class="highlighter-rouge">/dev/serial/by-id/*</code>, where <code class="highlighter-rouge">*</code> is a string descriptor of the connected device, e.g.
<code class="highlighter-rouge">/dev/serial/by-id/usb-Zubax_Robotics_Zubax_Babel_380032000D5732413336392000000000-if00</code>;
this is the recommended way of accessing serial ports on Linux,
because each connected device has a persistent name with <abbr title="Unique ID">UID</abbr>
that is invariant to the order in which devices are connected.</li>
      <li><code class="highlighter-rouge">/dev/ttyACM*</code> or <code class="highlighter-rouge">/dev/ttyUSB*</code>, where <code class="highlighter-rouge">*</code> is a number.
Files in this directory are symlinked to from <code class="highlighter-rouge">/dev/serial/</code> described above.</li>
    </ul>
  </li>
  <li>On OSX, look for the following files:
    <ul>
      <li><code class="highlighter-rouge">/dev/tty.usbmodem*</code>, where <code class="highlighter-rouge">*</code> is a number.</li>
    </ul>
  </li>
  <li>On Windows, connected serial devices will be detected as COM ports.</li>
</ul>

<h3 id="socketcan">SocketCAN</h3>

<p>The SocketCAN backend is available only under Linux.</p>

<p>For SocketCAN adapter configuration, please refer to the documentation that
came with your adapter. Once you have configured the adapter, it will be
available via a specific network interface name, e.g. <code class="highlighter-rouge">can0</code>.</p>

<p>It is also possible to use Pyuavcan with virtual CAN interfaces.
A virtual SocketCAN interface can be brought up using the following commands as root:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>modprobe can
modprobe can_raw
modprobe can_bcm
modprobe vcan
ip link add dev vcan0 <span class="nb">type </span>vcan
ip link <span class="nb">set </span>up vcan0
ifconfig vcan0 up
</code></pre>
</div>

<p>The following devices have been tested successfully with the SocketCAN backend:</p>

<ul>
  <li>8devices USB2CAN</li>
  <li>PEAK-System PCAN-USB</li>
  <li>SLCAN adapters via the SLCAN bridge</li>
</ul>

