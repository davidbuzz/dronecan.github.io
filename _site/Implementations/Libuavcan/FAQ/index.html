<h1 id="frequently-asked-questions">Frequently asked questions</h1>

<h3 id="node-is-emitting-incomplete-transfers-or-losing-frames">Node is emitting incomplete transfers or losing frames</h3>

<p>Possible causes are listed below.
Also
<a href="/Implementations/Libuavcan/Tutorials/1._Library_build_configuration/#debugging-and-troubleshooting">refer to the first tutorial for more info on troubleshooting</a>.</p>

<h4 id="memory-pool-is-too-small">Memory pool is too small</h4>

<p>This may prevent the node from allocating enough memory for the TX queue.
Try to increase the pool, and make sure that it is not getting exhausted.</p>

<h4 id="node-is-not-spinning-regularly">Node is not spinning regularly</h4>

<p>This may cause the frames scheduled for transmission to time out before even reaching the CAN driver.
Make sure that the spin method is being invoked regularly.</p>

<h4 id="can-frames-lose-arbitration">CAN frames lose arbitration</h4>

<p>This could happen if the bus is too congested with higher-priority traffic.
Try to increase either or both:</p>

<ul>
  <li>Transmission timeout.</li>
  <li>Transfer priority (if appropriate).</li>
</ul>

<p>Both are explained in the relevant tutorials.</p>

<h3 id="build-is-failing-because-of-missing-header-files">Build is failing because of missing header files</h3>

<p>This issue typically manifests itself with a message like that:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>libuavcan/include/uavcan/time.hpp:12:32: fatal error: uavcan/Timestamp.hpp: No such file or directory
</code></pre>
</div>

<p>This could be caused by failing DSDL compilation - see below.</p>

<h3 id="dsdl-compiler-is-failing">DSDL compiler is failing</h3>

<p>Make sure you have Python installed.</p>

<p>Inspect the build logs for error messages from the DSDL compiler.
They should be descriptive enough to help you understand the nature of the problem.</p>

<p>If youâ€™re facing the following error message:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  File "dsdl_compiler/libuavcan_dsdlc", line 59, in &lt;module&gt;
    from libuavcan_dsdl_compiler import run as dsdlc_run
  File "/home/jgoppert/git/libuavcan/libuavcan/dsdl_compiler/libuavcan_dsdl_compiler/__init__.py", line 17, in &lt;module&gt;
    from uavcan import dsdl
ImportError: No module named uavcan
</code></pre>
</div>

<p>Make sure that all git submodules are checked out and updated - use <code class="highlighter-rouge">git submodule update --init --recursive --force</code>.</p>

<h3 id="socketcan-does-not-work-reliably-with-an-slcan-adapter">SocketCAN does not work reliably with an SLCAN adapter</h3>

<p>Sometimes <code class="highlighter-rouge">slcand</code> may be losing outgoing frames because TX queue is not large enough.
TX queue of an interface can be resized as follows:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ifconfig slcan0 txqueuelen 1000
</code></pre>
</div>

<p>The example above makes TX queue of <code class="highlighter-rouge">slcan0</code> 1000 frames deep.</p>
